<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resultado da PrevisÃ£o</title>

  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/png" />

  <!-- Fontes -->
   <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400;1,600&display=swap"
        rel="stylesheet" />

  <!-- CSS principal -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles_result.css') }}" />
</head>

<body>
  <header>
    <div class="header-text">
      <h1 class="title">PrevisÃ£o de OcorrÃªncias Criminais em SP</h1>
      <h2 class="tagline">Resultados da AnÃ¡lise Preditiva</h2>
    </div>
  </header>

  <main>
    <section class="prediction">

      {% set color_map = {
          "Criminalidade Muito Baixa": "#2ecc71",
          "Criminalidade Baixa": "#27ae60",
          "Criminalidade MÃ©dia": "#f1c40f",
          "Criminalidade Alta": "#e67e22",
          "Criminalidade Muito Alta": "#e74c3c"
      } %}

      {% set emoji_map = {
          "Criminalidade Muito Baixa": "ðŸŸ¢",
          "Criminalidade Baixa": "ðŸŸ¢",
          "Criminalidade MÃ©dia": "ðŸŸ¡",
          "Criminalidade Alta": "ðŸŸ ",
          "Criminalidade Muito Alta": "ðŸ”´"
      } %}

      {% set width_map = {
          "Criminalidade Muito Baixa": "20%",
          "Criminalidade Baixa": "35%",
          "Criminalidade MÃ©dia": "55%",
          "Criminalidade Alta": "75%",
          "Criminalidade Muito Alta": "95%"
      } %}

      <table class="table2">
        <tr class="r1">
          <td><b>Cidade Selecionada:</b></td>
          <td>{{ city_name }}</td>
        </tr>
        <tr class="r1">
          <td><b>Crime Selecionado:</b></td>
          <td>{{ crime_type }}</td>
        </tr>
        <tr class="r1">
          <td><b>Ano Selecionado:</b></td>
          <td>{{ year }}</td>
        </tr>
      </table>

      <table class="table3">
        <tr class="r2">
          <td>Resultado da PrevisÃ£o:</td>
          <td class="crime-status" style="--crime-color: {{ color_map[crime_status] }}">
            {{ emoji_map[crime_status] }} {{ crime_status }}
          </td>
        </tr>
        <tr class="r2">
          <td>Taxa de Crime Estimada:</td>
          <td>{{ crime_rate | brnum }} por 100 mil hab.</td>
        </tr>
        <tr class="r2">
          <td>NÃºmero Estimado de Casos:</td>
          <td>{{ "{:,}".format(cases).replace(",", ".") }}</td>
        </tr>
        <tr class="r2">
          <td>PopulaÃ§Ã£o Estimada:</td>
          <td>{{ "{:,.0f}".format(population).replace(",", ".") }}</td>
        </tr>
      </table>

      <!-- Barra de intensidade -->
      <div class="crime-bar">
        <div class="crime-bar-fill"
          style="--bar-width: {{ width_map[crime_status] }}; --bar-color: {{ color_map[crime_status] }};">
        </div>
      </div>

      <p class="ref-text">
        <strong>ReferÃªncias mÃ©dias nacionais (por 100 mil hab.):</strong><br>
        HomicÃ­dio: <b>18,53</b> | Roubo: <b>155</b> | Furto: <b>780</b> | VeÃ­culo: <b>117</b>
      </p>

      <a href="{{ url_for('index') }}" class="btn">Prever Mais uma Vez!</a>
    </section>
  </main>

  <footer class="footer">
    <img src="{{ url_for('static', filename='images/fatec-removebg-preview.png') }}" alt="Logo FATEC"
      class="footer-img-left" />
    <div id="developer">
      <h1>Grupo: Machine Thinkers</h1>
      <h3>Trabalho Final de IA: Wellison Inacio e Raphael Lino</h3>
      <h3>Fatec Zona Sul - Prof. Edson Ceroni</h3>
    </div>
    <img src="{{ url_for('static', filename='images/Logo_SSP.png') }}" alt="Logo SSP" class="footer-img" />
  </footer>
</body>

</html>
